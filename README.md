# PyBash
## Bash-подобная интерактивная оболочка с поддержкой простых команд для управления файлами на Python.

### Некоторая информация
- Доступен как интерактивный (REPL) режим, так и одиночный запуск команды.
- Для валидации аргументов и маршрутизации используется библиотека `Typer`.
- Интерактивный режим написан без использования библиотек вроде `typer-shell`, хотя очень хотелось.
- Реализована автоматическая регистрация всех команд из `src/commands`.
- Постарался сделать красивый вывод с цветами и таблицами.
- Лог сохраняется в файл `shell.log` на уровень выше `src`.


### Команды

* #### cd <путь>
Смена рабочей директории.

* #### ls [путь]
Выводит список файлов в директории. Если путь не указан, то выводит файлы в текущей директории.
По умолчанию выводит только названия. Зеленым цветом помечены директории.<br>
**Флаг `-l`** - вывод подробной информации по каждому элементу в таблице.
Выводит права доступа в UNIX формате, дату изменения, размер и название.

* #### cat <файл>
Выводит содержимое файла. Кодировка - `UTF-8`.

* #### cp <источник>* <назначение>
Копирует элементы. Если назначение - директория, то возможно указание нескольких источников: файлы будут скопированы внутрь директории с исходными именами.
Для перезаписи запрашивает дополнительное подтверждение.<br>
**Флаг `-r`** - разрешает рекурсивное копирование директорий со всем содержимым. Без этого флага попытка копирования директории приведет к ошибке.

* #### mv <источник> <назначение>
Перемещает/переименовывает элемент. Для перезаписи спрашивает подтверждение. Если назначение - директория, то файл будет перемещен внутрь неё с исходным именем.

* #### rm [путь]*
Удаляет элементы. Для удаления директорий спрашивает подтверждение.<br>
**Флаг `-r`** - разрешает рекурсивное удаление директорий со всем содержимым. Без этого флага попытка удаления
директории приведет к ошибке. P.S. По факту бесполезно из-за подтверждения удаления, но так написано в ТЗ(

* #### [команда] --help
Выводит справку по команде. Поддерживается во всех командах. Если используется без команды, то выводит список команд.


### Установка
Клонирование репозитория:
```shell
git clone https://github.com/TheMrKan/PyBash
cd PyBash
```

Установка зависимостей:
```shell
python3 -m pip install uv
uv sync
```

### Использование
Интерактивный режим:
```shell
python3 -m src.main
```
`Enter` для ввода команды. `Ctrl + C` (SIGINT) для выхода.

Запуск команды через аргументы:
```shell
python3 -m src.main ls -l
```
Будет выполнена команда `ls -l`.
